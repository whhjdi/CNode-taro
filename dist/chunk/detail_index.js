(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"140":function(e,t,n){"use strict";n.r(t);var r=n(40),o=n(0),a=n(1),i=n.n(a),s=n(145),c=n(9),l=n(11),u=n(41);var f=function _getDetail(e){return{"type":l.a,"res":e}},p=function getDetail(e,t){return n=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(n){var r;return regeneratorRuntime.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,u.a.getTopicDetail(e,t);case 3:r=o.sent,n(f(r.data.data)),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(0),console.log(o.t0);case 10:case"end":return o.stop()}},_callee,void 0,[[0,7]])})),function(e){return n.apply(this,arguments)};var n},h=(n(86),n(84),n(65)),m=(n(34),n(39)),y=n.n(m),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var v=function(e){function RichText(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RichText),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(RichText.__proto__||Object.getPrototypeOf(RichText)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RichText,i.a.Component),b(RichText,[{"key":"renderNodes","value":function renderNodes(e){if("text"===e.type)return i.a.createElement("span",{},e.text);var t=this.renderChildrens(e.children),n={"className":"","style":""};if(e.hasOwnProperty("attrs"))for(var r in e.attrs)"class"===r?n.className=e.attrs[r]||"":n[r]=e.attrs[r]||"";return i.a.createElement(e.name,n,t)}},{"key":"renderChildrens","value":function renderChildrens(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0!==t.length)return t.map(function(t,n){return"text"===t.type?t.text:e.renderNodes(t)})}},{"key":"render","value":function render(){var e=this,t=this.props,n=t.nodes,r=t.className,o=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["nodes","className"]);return Array.isArray(n)?i.a.createElement("div",d({"className":r},y()(this.props,["nodes","className"]),o),n.map(function(t,n){return e.renderNodes(t)})):i.a.createElement("div",d({"className":r},y()(this.props,["className"]),o,{"dangerouslySetInnerHTML":{"__html":n}}))}}]),RichText}(),_=n(49),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var w=function(e){function DetailInfo(){return function detailInfo_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DetailInfo),function detailInfo_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(DetailInfo.__proto__||Object.getPrototypeOf(DetailInfo)).apply(this,arguments))}return function detailInfo_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DetailInfo,o["a"].Component),g(DetailInfo,[{"key":"render","value":function render(){var e=this.props.detailInfo;return i.a.createElement(s.a,{"className":"detailInfo"},i.a.createElement(s.a,{"className":"detail-header"},i.a.createElement(s.a,{"className":"detail-header-title"},e.top?i.a.createElement(h.a,{"className":"right-tab"},"置顶"):"share"===e.tab?i.a.createElement(h.a,{"className":"right-tab right-share"},"分享"):i.a.createElement(h.a,{"className":"right-tab right-ask"},"问答"),e.title),i.a.createElement(s.a,{"className":"detail-header-desc"},i.a.createElement(h.a,null,"发布于",e.create_at?Object(_.a)(e.create_at):null),i.a.createElement(h.a,{"className":"detail-author"},".作者",e.author&&e.author.loginname),i.a.createElement(h.a,null,".",e.visit_count,"次浏览"))),i.a.createElement(s.a,{"className":"detail-body"},i.a.createElement(v,{"nodes":e.content})))}}]),DetailInfo}();(w=r.__decorate([Object(c.b)(function(e){return{}},function(e){return{}})],w)).defaultProps={"detailInfo":{}};var O=w,P=(n(82),n(63)),j=n(95),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var k=function(e){function Reply(){return function reply_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Reply),function reply_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Reply.__proto__||Object.getPrototypeOf(Reply)).apply(this,arguments))}return function reply_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Reply,o["a"].Component),x(Reply,[{"key":"render","value":function render(){var e=this.props.replies;return i.a.createElement(s.a,{"className":"reply"},e.map(function(e,t){return i.a.createElement(s.a,{"className":"reply-item","taroKey":e.id,"key":e.id},i.a.createElement(s.a,{"className":"reply-item-img-wrapper"},i.a.createElement(P.a,{"src":e.author.avatar_url,"className":"reply-item-avatar"})),i.a.createElement(s.a,{"className":"reply-item-right"},i.a.createElement(s.a,{"className":"reply-item-content"},i.a.createElement(h.a,{"className":"reply-item-loginname"},e.author.loginname,i.a.createElement(h.a,{"className":"floor"},t+1,"楼")),i.a.createElement(v,{"nodes":e.content})),i.a.createElement(s.a,{"className":"star"},i.a.createElement(j.a,{"value":e.is_uped?"star-2":"star","size":"16","color":"#e67e22"}),i.a.createElement(h.a,{"className":"star-text"},e.ups.length?e.ups.length:0))))}))}}]),Reply}(),T=k=r.__decorate([Object(c.b)(function(e){return E({},e.topicList,{"currentMenu":e.menu.currentMenu})},function(e){return{}})],k),C=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var N=function(e){function Detail(){!function detail_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Detail);var e=function detail_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Detail.__proto__||Object.getPrototypeOf(Detail)).apply(this,arguments));return e.config={"navigationBarTitleText":"详情"},e}return function detail_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Detail,o["a"].Component),C(Detail,[{"key":"componentDidMount","value":function componentDidMount(){var e=this.$router.params.topicid;this.handleDetail(e)}},{"key":"handleDetail","value":function handleDetail(e){this.props.getDetail(e,this.props.user.accessToken)}},{"key":"render","value":function render(){var e=this.props,t=e.detailInfo,n=e.replies;return i.a.createElement(s.a,{"className":"detail"},i.a.createElement(O,{"detailInfo":t}),i.a.createElement(T,{"replies":n}))}},{"key":"componentDidShow","value":function componentDidShow(){}}]),Detail}();N=r.__decorate([Object(c.b)(function(e){return{"detailInfo":e.detail.detailInfo,"replies":e.detail.replies,"user":e.user}},function(e){return{"getDetail":function getDetail(t,n){e(p(t,n))}}})],N);t.default=N},"41":function(e,t,n){"use strict";var r=n(139),o=n(146);n(1);var a=function(){var e=function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function step(r,o){try{var a=t[r](o),i=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(i).then(function(e){step("next",e)},function(e){step("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function _callee(e,t,n){return regeneratorRuntime.wrap(function _callee$(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",new Promise(function(a,i){Object(r.b)(),Object(o.a)({"url":e,"method":t,"data":n,"header":{"content-type":"application/json"}}).then(function(e){Object(r.a)(),a(e)}).catch(function(e){i(e)})}));case 1:case"end":return a.stop()}},_callee,this)}));return function request(t,n,r){return e.apply(this,arguments)}}(),i={"topics":"/topics","topic":"/topic","userInfo":"/user","accessToken":"/accesstoken","msgs":"/messages"};Object.keys(i).forEach(function(e){i[e]="https://cnodejs.org/api/v1"+i[e]});var s=i,c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(){function fetchData(){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,fetchData)}return c(fetchData,null,[{"key":"getTopicList","value":function getTopicList(e){return a(s.topics,"GET",e)}},{"key":"getTopicDetail","value":function getTopicDetail(e,t){var n=t||"";return a(s.topic+"/"+e,"GET",{"accesstoken":n})}},{"key":"userLogin","value":function userLogin(e){return a(s.accessToken,"POST",{"accesstoken":e})}},{"key":"getUserInfo","value":function getUserInfo(e){return a(s.userInfo+"/"+e,"GET")}},{"key":"fetchMessages","value":function fetchMessages(e){return a(s.msgs,"GET",{"accesstoken":e})}}]),fetchData}();t.a=l},"42":function(e,t,n){(e.exports=n(38)(!1)).push([e.i,".taro-img {\n  display: inline-block;\n  overflow: hidden;\n  position: relative;\n  font-size: 0;\n  width: 320px;\n  height: 240px;\n}\n\n.taro-img.taro-img__widthfix {\n  height: 100%;\n}\n\n.taro-img__mode-scaletofill {\n  width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-aspectfit {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.taro-img__mode-aspectfill {\n  min-width: 100%;\n  height: 100%;\n}\n\n.taro-img__mode-widthfix {\n  width: 100%;\n}\n\n.taro-img__mode-top {\n  width: 100%;\n}\n\n.taro-img__mode-bottom {\n  width: 100%;\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-left {\n  height: 100%;\n}\n\n.taro-img__mode-right {\n  position: absolute;\n  height: 100%;\n  right: 0;\n}\n\n.taro-img__mode-topright {\n  position: absolute;\n  right: 0;\n}\n\n.taro-img__mode-bottomleft {\n  position: absolute;\n  bottom: 0;\n}\n\n.taro-img__mode-bottomright {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}",""])},"43":function(e,t,n){var r=n(42);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(37)(r,o);r.locals&&(e.exports=r.locals)},"45":function(e,t,n){(e.exports=n(38)(!1)).push([e.i,".taro-text {\n  -moz-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n.taro-text__selectable {\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}",""])},"46":function(e,t,n){var r=n(45);"string"==typeof r&&(r=[[e.i,r,""]]);var o={"sourceMap":!1,"insertAt":"top","hmr":!0,"transform":void 0,"insertInto":void 0};n(37)(r,o);r.locals&&(e.exports=r.locals)},"49":function(e,t,n){"use strict";function formatDate(e){if(e){var t=(e=e.replace("T"," ")).indexOf(".");return e=e.substr(0,t)}}n.d(t,"a",function(){return formatDate})},"63":function(e,t,n){"use strict";n(34);var r=n(1),o=n.n(r),a=n(32),i=n.n(a),s=(n(43),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),c=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var l=function(e){function Image(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Image),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Image.__proto__||Object.getPrototypeOf(Image)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Image,o.a.Component),c(Image,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.src,r=e.style,a=e.mode,c=e.onLoad,l=e.onError,u=function _objectWithoutProperties(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","src","style","mode","onLoad","onError"]),f=i()("taro-img",{"taro-img__widthfix":"widthFix"===a},t),p="taro-img__mode-"+(a||"scaleToFill").toLowerCase().replace(/\s/g,"");return o.a.createElement("div",s({"className":f,"style":r},u),o.a.createElement("img",{"className":p,"src":n,"onLoad":c,"onError":l}))}}]),Image}();t.a=l},"65":function(e,t,n){"use strict";n(34);var r=n(1),o=n.n(r),a=n(39),i=n.n(a),s=n(32),c=n.n(s),l=(n(46),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),u=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var f=function(e){function Text(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Text.__proto__||Object.getPrototypeOf(Text)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,o.a.Component),u(Text,[{"key":"render","value":function render(){var e=this.props,t=e.className,n=e.selectable,r=void 0!==n&&n,a=c()("taro-text",{"taro-text__selectable":r},t);return o.a.createElement("span",l({},i()(this.props,["selectable","className"]),{"className":a}),this.props.children)}}]),Text}();t.a=f},"82":function(e,t,n){},"84":function(e,t,n){},"86":function(e,t,n){},"95":function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r,o,a=n(0),i=n(1),s=n.n(i),c=n(36),l=n.n(c),u=n(32),f=n.n(u),p=n(65),h=n(35),m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var y=(o=r=function(e){function AtIcon(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtIcon),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtIcon.__proto__||Object.getPrototypeOf(AtIcon)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtIcon,h["a"]),m(AtIcon,[{"key":"handleClick","value":function handleClick(){var e;(e=this.props).onClick.apply(e,arguments)}},{"key":"render","value":function render(){var e=this.props,t=e.customStyle,n=e.className,r=e.prefixClass,o=e.value,i=e.size,c=e.color,l={"fontSize":""+a.a.pxTransform(2*parseInt(i)),"color":c},u=o?r+"-"+o:"";return s.a.createElement(p.a,{"className":f()(r,u,n),"style":this.mergeStyle(l,t),"onClick":this.handleClick.bind(this)})}}]),AtIcon}(),r.defaultProps={"customStyle":"","className":"","prefixClass":"at-icon","value":"","color":"","size":24,"onClick":function onClick(){}},r.propTypes={"customStyle":l.a.oneOfType([l.a.object,l.a.string]),"className":l.a.oneOfType([l.a.array,l.a.string]),"prefixClass":l.a.string,"value":l.a.string,"color":l.a.string,"size":l.a.oneOfType([l.a.string,l.a.number]),"onClick":l.a.func},o)}}]);